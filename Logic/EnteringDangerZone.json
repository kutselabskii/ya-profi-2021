{
  "version": 1,
  "origin": "sandbox.rightech.io",
  "time": "2021-04-18T07:55:20.196Z",
  "user": "60490ec253072efc4bfd2252",
  "group": "60490ec253072efc4bfd2251",
  "store": "automatons",
  "data": {
    "_id": "607bc92ce3ae1d0010cde4a9",
    "name": "Опасная ситуация",
    "description": "",
    "models": [
      "6078213944cf570011ed2e67",
      "60782ed2402c0600103916e6",
      "60783176402c0600103916f0"
    ],
    "model": "6078213944cf570011ed2e67",
    "data": "{\"states\":{\"initial\":{\"data\":{\"type\":\"init\",\"id\":\"initial\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":100,\"left\":80}},\"final\":{\"data\":{\"type\":\"final\",\"id\":\"final\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":440,\"left\":120}},\"first\":{\"data\":{\"type\":\"state\",\"id\":\"first\",\"name\":\"Инициализация\",\"description\":\"\",\"onenter\":[{\"id\":\"watch-geofence\",\"name\":\"Начать отслеживание геозоны\",\"targetsTo\":\"{{model0}}\",\"args\":{\"geofences_ids\":{\"id\":\"geofences_ids\",\"value\":[\"6030ffcf42ac91001056d3ee\",\"6031001142ac91001056d3f9\",\"6038f80e821853001023bcd8\"]}}},{\"id\":\"buzzer_off\",\"name\":\"Выключить сирену\",\"targetsTo\":\"{{model1}}\",\"args\":{}},{\"id\":\"buzzer_off\",\"name\":\"Выключить сирену\",\"targetsTo\":\"{{model2}}\",\"args\":{}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model2}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}}],\"onexit\":[],\"width\":300,\"height\":240},\"position\":{\"top\":220,\"left\":400}},\"knmr7nju\":{\"data\":{\"type\":\"state\",\"id\":\"knmr7nju\",\"name\":\"Вход в опасную зону\",\"description\":\"\",\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"critical\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"В опасной геозоне\"}}},{\"id\":\"buzzer_on\",\"name\":\"Включить сирену\",\"targetsTo\":\"{{model1}}\",\"args\":{}},{\"id\":\"buzzer_on\",\"name\":\"Включить сирену\",\"targetsTo\":\"{{model2}}\",\"args\":{}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"true\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model2}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"true\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}}],\"height\":240,\"width\":340,\"onexit\":[]},\"position\":{\"top\":220,\"left\":1120}},\"knmrfcbd\":{\"data\":{\"type\":\"state\",\"id\":\"knmrfcbd\",\"name\":\"Выход из опасной зоны\",\"description\":\"\",\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"targetsTo\":\"{{model0}}\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"important\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"В безопасности\"}}},{\"id\":\"buzzer_off\",\"name\":\"Выключить сирену\",\"targetsTo\":\"{{model1}}\",\"args\":{}},{\"id\":\"buzzer_off\",\"name\":\"Выключить сирену\",\"targetsTo\":\"{{model2}}\",\"args\":{}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model2}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"buzzer\"}}}}],\"height\":260,\"width\":340,\"onexit\":[]},\"position\":{\"top\":600,\"left\":1120}}},\"transitions\":{\"0\":{\"drawMode\":\"rou\",\"points\":[{\"x\":100,\"y\":100},{\"x\":260,\"y\":100},{\"x\":260,\"y\":100},{\"x\":420,\"y\":100},{\"x\":420,\"y\":160},{\"x\":420,\"y\":160},{\"x\":420,\"y\":200}],\"data\":{\"id\":\"0\",\"name\":\"Инициализация логики\",\"description\":\"Событие, возникающее при запуске интерпретации модели логики\",\"event\":\"init\",\"owner\":{\"id\":\"initial\",\"point\":{\"location\":\"right\",\"id\":0}},\"target\":{\"id\":\"first\",\"point\":{\"location\":\"top\",\"id\":1}},\"blockKey\":\"cb-0\",\"targetIndex\":-1,\"autoDescription\":false,\"eventParameters\":{},\"targetsTo\":null},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"0\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"0\"],\"height\":6,\"width\":11,\"position\":{\"x\":16,\"y\":2}},\"key\":\"cb-0\"}},\"knmsq72v\":{\"drawMode\":\"rou\",\"points\":[{\"x\":700,\"y\":300},{\"x\":760,\"y\":300},{\"x\":760,\"y\":280},{\"x\":800,\"y\":280},{\"x\":960,\"y\":280},{\"x\":960,\"y\":300},{\"x\":1100,\"y\":300}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":4,\"location\":\"right\"}},\"target\":{\"id\":\"knmr7nju\",\"point\":{\"id\":4,\"location\":\"left\"}},\"id\":\"knmsq72v\",\"blockKey\":\"cb-knmsq72v\",\"autoDescription\":true,\"event\":\"geozone_danger_in\",\"name\":\"Вход в опасную зону\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knmsq72v\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knmsq72v\"],\"width\":8,\"height\":3,\"position\":{\"x\":36,\"y\":13}},\"key\":\"cb-knmsq72v\"}},\"knmsqcqw\":{\"drawMode\":\"rou\",\"points\":[{\"x\":1460,\"y\":360},{\"x\":1520,\"y\":360},{\"x\":1520,\"y\":340},{\"x\":1560,\"y\":340},{\"x\":1600,\"y\":340},{\"x\":1600,\"y\":700},{\"x\":1460,\"y\":700}],\"data\":{\"owner\":{\"id\":\"knmr7nju\",\"point\":{\"id\":7,\"location\":\"right\"}},\"target\":{\"id\":\"knmrfcbd\",\"point\":{\"id\":5,\"location\":\"right\"}},\"id\":\"knmsqcqw\",\"blockKey\":\"cb-knmsqcqw\",\"autoDescription\":true,\"event\":\"geozone_danger_out\",\"name\":\"Выход из опасной зоны\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knmsqcqw\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knmsqcqw\"],\"width\":8,\"height\":3,\"position\":{\"x\":74,\"y\":16}},\"key\":\"cb-knmsqcqw\"}},\"knmsqkbf\":{\"drawMode\":\"rou\",\"points\":[{\"x\":1100,\"y\":700},{\"x\":1060,\"y\":700},{\"x\":1060,\"y\":720},{\"x\":1020,\"y\":720},{\"x\":1020,\"y\":680},{\"x\":1020,\"y\":360},{\"x\":1100,\"y\":360}],\"data\":{\"owner\":{\"id\":\"knmrfcbd\",\"point\":{\"id\":5,\"location\":\"left\"}},\"target\":{\"id\":\"knmr7nju\",\"point\":{\"id\":7,\"location\":\"left\"}},\"id\":\"knmsqkbf\",\"blockKey\":\"cb-knmsqkbf\",\"autoDescription\":true,\"event\":\"geozone_danger_in\",\"name\":\"Вход в опасную зону\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knmsqkbf\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knmsqkbf\"],\"width\":8,\"height\":3,\"position\":{\"x\":47,\"y\":33}},\"key\":\"cb-knmsqkbf\"}}}}"
  }
}