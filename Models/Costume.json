{
  "id": "root",
  "name": "Система управления защитным костюмом",
  "active": true,
  "type": "subsystem",
  "children": [
    {
      "id": "external-software-modules",
      "active": true,
      "copy": true,
      "type": "subsystem",
      "children": [],
      "name": "Внешние программные модули",
      "disabled": true
    },
    {
      "id": "params",
      "name": "Параметры защитного костюма",
      "active": true,
      "type": "subsystem",
      "children": [
        {
          "id": "server-info",
          "name": "Серверная информация",
          "active": true,
          "type": "subsystem",
          "children": [
            {
              "id": "online",
              "name": "Онлайн",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "boolean",
              "reference": "online",
              "description": null
            },
            {
              "id": "_ts",
              "name": "Время",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "unit": "duration-microsecond",
              "reference": "_ts",
              "description": null,
              "factor": 1,
              "linear": true
            }
          ]
        },
        {
          "id": "costume_params",
          "name": "Параметры костюма",
          "active": true,
          "type": "subsystem",
          "children": [
            {
              "id": "active_state",
              "name": "Костюм активирован",
              "active": true,
              "type": "argument",
              "dataType": "boolean",
              "description": null,
              "factor": 1,
              "linear": true,
              "source": "state",
              "unit": null
            },
            {
              "id": "charge",
              "name": "Уровень заряда",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": true,
              "source": "state",
              "description": null,
              "unit": "percent",
              "children": [
                {
                  "id": "charge.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059"
                },
                {
                  "id": "charge.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b"
                }
              ]
            },
            {
              "id": "capacity",
              "name": "Емкость аккумулятора костюма",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "config",
              "unit": "energy-kilowatt-hour"
            },
            {
              "id": "power",
              "name": "Мощность в течение часа",
              "active": true,
              "type": "argument",
              "source": "config",
              "dataType": "number",
              "linear": false,
              "factor": 1,
              "unit": "power-kilowatt",
              "children": []
            },
            {
              "id": "time_left",
              "name": "Запас заряда",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state"
            }
          ]
        },
        {
          "id": "coords",
          "name": "Координаты",
          "active": true,
          "type": "argument",
          "source": "state",
          "dataType": "number",
          "linear": true,
          "factor": 1,
          "children": [
            {
              "id": "x",
              "name": "X",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": "length-meter"
            },
            {
              "id": "y",
              "name": "Y",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": "length-meter"
            },
            {
              "id": "z",
              "name": "Z",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": "length-meter"
            }
          ]
        },
        {
          "id": "environment",
          "name": "Окружающая среда",
          "active": true,
          "type": "subsystem",
          "children": [
            {
              "id": "humidity",
              "name": "Влажность",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": true,
              "source": "state",
              "unit": "percent",
              "children": [
                {
                  "id": "humidity.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059"
                },
                {
                  "id": "humidity.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b"
                }
              ]
            },
            {
              "id": "oxygen",
              "name": "Кислород",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": true,
              "source": "state",
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059"
                },
                {
                  "id": "oxygen.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b"
                }
              ]
            },
            {
              "id": "carbon",
              "name": "Углекислый газ",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            },
            {
              "id": "nitric",
              "name": "Оксид азота",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32-2knax.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32-2knax.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            },
            {
              "id": "sulfurous",
              "name": "Сернистый ангидрид",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32-2knax-in8li.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32-2knax-in8li.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            },
            {
              "id": "hydrogen_sulfide",
              "name": "Сероводород",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            },
            {
              "id": "methane",
              "name": "Метан",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7-b2hm4.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7-b2hm4.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            },
            {
              "id": "dust",
              "name": "Угольная пыль",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": true,
              "factor": 1,
              "unit": "percent",
              "children": [
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7-b2hm4-vk24n.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#f16059",
                  "children": []
                },
                {
                  "id": "oxygen-ttz32-2knax-in8li-p7kw7-b2hm4-vk24n.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 100,
                  "color": "#a2ce4b",
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "id": "beacon",
          "name": "Beacon",
          "active": true,
          "type": "subsystem",
          "children": [
            {
              "id": "beacons",
              "name": "Данные от Beacon",
              "active": true,
              "type": "argument",
              "dataType": "string",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": null,
              "reference": "beacon/date"
            },
            {
              "id": "lat",
              "name": "Широта",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": "angle-degree"
            },
            {
              "id": "lon",
              "name": "Долгота",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": false,
              "factor": 1,
              "unit": "angle-degree",
              "children": []
            },
            {
              "id": "alt",
              "name": "Высота",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "number",
              "linear": false,
              "factor": 1,
              "unit": "angle-degree",
              "children": []
            },
            {
              "id": "ev_time",
              "name": "Время события",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": false,
              "source": "state",
              "unit": "duration-second"
            },
            {
              "id": "visible_count",
              "name": "Количество видимых устройств",
              "active": true,
              "type": "argument",
              "dataType": "number",
              "factor": 1,
              "linear": true,
              "source": "state",
              "children": [
                {
                  "id": "visible_count.levels.0",
                  "name": "Min",
                  "active": true,
                  "type": "level",
                  "index": 0,
                  "value": 0,
                  "color": "#2d3945"
                },
                {
                  "id": "visible_count.levels.1",
                  "name": "Max",
                  "active": true,
                  "type": "level",
                  "index": 1,
                  "value": 8,
                  "color": "#fff"
                }
              ]
            },
            {
              "id": "rssi",
              "name": "RSSI",
              "active": true,
              "type": "subsystem",
              "children": [
                {
                  "id": "mac_98_12",
                  "name": "RSSI 98:12",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945"
                    },
                    {
                      "id": "mac_98_12.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b"
                    }
                  ]
                },
                {
                  "id": "mac_0a_35",
                  "name": "RSSI 0a:35",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_29_39",
                  "name": "RSSI 29:39",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_d3_96",
                  "name": "RSSI d3:96",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_f7_41",
                  "name": "RSSI f7:41",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_01_dd",
                  "name": "RSSI 01:dd",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_08_cd",
                  "name": "RSSI 08:cd",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2-bgybg.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2-bgybg.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                },
                {
                  "id": "mac_0e_60",
                  "name": "RSSI 0e:60",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": true,
                  "factor": 1,
                  "children": [
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2-bgybg-3y83h.levels.0",
                      "name": "Min",
                      "active": true,
                      "type": "level",
                      "index": 0,
                      "value": -127,
                      "color": "#2d3945",
                      "children": []
                    },
                    {
                      "id": "mac_98_12-dr6h3-r2vr8-igzcx-2u3ll-262z2-bgybg-3y83h.levels.1",
                      "name": "Max",
                      "active": true,
                      "type": "level",
                      "index": 1,
                      "value": 0,
                      "color": "#a2ce4b",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "id": "dinstances",
              "name": "Расстояния до маяков",
              "active": true,
              "type": "subsystem",
              "children": [
                {
                  "id": "dist_98_12",
                  "name": "98:12",
                  "active": true,
                  "type": "argument",
                  "dataType": "number",
                  "factor": 1,
                  "linear": false,
                  "source": "state",
                  "unit": "length-meter"
                },
                {
                  "id": "dist_0a_35",
                  "name": "0a:35",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_29_39",
                  "name": "29:39",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_d3_96",
                  "name": "d3:96",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_f7_41",
                  "name": "f7:41",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_01_dd",
                  "name": "01:dd",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_08_cd",
                  "name": "08:cd",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                },
                {
                  "id": "dist_0e_60",
                  "name": "0e:60",
                  "active": true,
                  "type": "argument",
                  "source": "state",
                  "dataType": "number",
                  "linear": false,
                  "factor": 1,
                  "unit": "length-meter",
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "id": "mqtt-last",
          "name": "Last MQTT Publish",
          "active": true,
          "type": "subsystem",
          "children": [
            {
              "id": "topic",
              "name": "Topic",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "string",
              "reference": "topic"
            },
            {
              "id": "payload",
              "name": "Payload",
              "active": true,
              "type": "argument",
              "source": "state",
              "dataType": "string",
              "reference": "payload"
            }
          ]
        }
      ]
    },
    {
      "id": "cmds",
      "name": "Команды",
      "active": true,
      "type": "subsystem",
      "children": [
        {
          "id": "activate",
          "name": "Активировать костюм",
          "active": true,
          "type": "action",
          "service": "ric-gate",
          "command": "publish",
          "params": {
            "topic": "base/costume/activate",
            "payload": "1"
          },
          "description": null
        },
        {
          "id": "deactivate",
          "name": "Деактивировать костюм",
          "active": true,
          "type": "action",
          "service": "ric-gate",
          "command": "publish",
          "params": {
            "topic": "base/costume/activate",
            "payload": "0"
          },
          "description": null,
          "children": []
        }
      ]
    }
  ],
  "base": "mqtt"
}